(()=>{"use strict";var e={273:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var o="Fetch",n=function(){function e(e){this._useCsrf=!1,this._csrfToken="",this._beforeHooks=[],this._afterHooks=[],this._server=e.server,this._useCsrf=e.useCsrf||!1,this._csrfEndpoint=e.csrfEndpoint||"",this._csrfHeader=e.csrfHeader||"",this._useDebug=e.useDebug||!1,this.resetCSRFToken(),this.resetBeforeHooks(),this.resetAfterHooks()}return Object.defineProperty(e.prototype,"csrfToken",{get:function(){return this._csrfToken},set:function(e){this._csrfToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"csrfEndpoint",{get:function(){return this._csrfEndpoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"csrfHeader",{get:function(){return this._csrfHeader},set:function(e){this._csrfHeader=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beforeHooks",{get:function(){return this._beforeHooks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"afterHooks",{get:function(){return this._afterHooks},enumerable:!1,configurable:!0}),e.prototype.resetCSRFToken=function(){this._csrfToken=o},e.prototype.addBeforeHook=function(e){this.beforeHooks.push(e)},e.prototype.runBeforeHooks=function(e,t){this.beforeHooks.forEach((function(o){o(e,t)}))},e.prototype.resetBeforeHooks=function(){this._beforeHooks=[],this._useCsrf&&this._beforeHooks.push(this.addCsrfToken.bind(this)),this._useDebug&&this._beforeHooks.push(this.logRequest.bind(this))},e.prototype.addAfterHook=function(e){this.afterHooks.push(e)},e.prototype.runAfterHooks=function(e,t,o){this.afterHooks.forEach((function(n){n(e,t,o)}))},e.prototype.resetAfterHooks=function(){this._afterHooks=[],this._useCsrf&&this._afterHooks.push(this.readCsrfToken.bind(this)),this._useDebug&&this._afterHooks.push(this.logResponse.bind(this))},e.prototype.addCsrfToken=function(e,t){t.headers.set(this.csrfHeader,this.csrfToken)},e.prototype.readCsrfToken=function(e,t,n){if(this._csrfToken===o){var r=n.headers.get(this.csrfHeader);this._csrfToken=r}},e.prototype.logRequest=function(e,t){this._useDebug&&(console.log("REQUEST ".concat(t.method," ").concat(e)),console.log("  - Options:"),Object.keys(t).forEach((function(e){"headers"!==e&&console.log("    - ".concat(e,": ").concat(t[e]))})),t.headers&&(console.log("  - Headers:"),t.headers.forEach((function(e,t){console.log("    - ".concat(t,": ").concat(e))}))))},e.prototype.logResponse=function(e,t,o){this._useDebug&&(console.log("RESPONSE ".concat(t.method," ").concat(e)),o.headers&&(console.log("  - Headers:"),o.headers.forEach((function(e,t){console.log("    - ".concat(t,": ").concat(e))}))))},e}();t.default=n},984:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.Config=void 0;var r=n(o(273)),i=n(o(693));t.Config=r.default,t.Service=i.default,t.default={Config:t.Config,Service:t.Service}},693:function(e,t){var o=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function c(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(c,s)}u((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(o)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(c=0)),c;)try{if(o=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,n=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){c=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){c.label=s[1];break}if(6===s[0]&&c.label<r[1]){c.label=r[1],r=s;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(s);break}r[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],n=0}finally{o=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,o){this._config=e,this._url=t,this._api=o}return Object.defineProperty(e.prototype,"api",{get:function(){return this._api},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),e.prototype.buildUrl=function(e){return"".concat(this._config.server).concat(this.url).concat(e)},e.prototype.fetch=function(e,t){return o(this,void 0,void 0,(function(){var o,r,i,c,s;return n(this,(function(n){switch(n.label){case 0:return o=t.body&&("POST"===t.method||"PUT"===t.method),r=new Headers,o&&r.set("content-type",t.contentType||"application/json; charset=UTF-8"),r.set("accept",t.accept||"application/json"),r.set("accept-encoding",t.acceptEncoding||"gzip, deflate, br"),r.set("connection",t.connection||"keep-alive"),i=this.buildUrl(e),c={method:t.method,headers:r},o&&(c.body=t.body),this._config.runBeforeHooks(i,c),[4,fetch(i,c)];case 1:return s=n.sent(),this._config.runAfterHooks(i,c,s),[2,s]}}))}))},e}();t.default=r},432:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthModel=t.AuthService=void 0;const r=n(o(718));t.AuthService=r.default.Service,t.AuthModel=r.default.Model,t.default={Auth:r.default}},276:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},19:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function c(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(c,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.postUserAvatar=t.getUser=t.deleteAuth=t.getAuth=t.postAuth=t.getAccount=t.putAccountRegister=t.postAccountRegister=t.putAccountRecover=t.postAccountRecover=t.putAccountChangeMail=t.postAccountChangeMail=void 0;const r=o(984);t.postAccountChangeMail=(e,t)=>n(void 0,void 0,void 0,(function*(){const o={method:"POST",body:JSON.stringify(t)},n=yield e.fetch("/accounts/changemail",o);return yield n.json()})),t.putAccountChangeMail=(e,t)=>n(void 0,void 0,void 0,(function*(){const o={method:"PUT",body:JSON.stringify(t)},n=yield e.fetch("/accounts/changemail",o);return yield n.json()})),t.postAccountRecover=(e,t)=>n(void 0,void 0,void 0,(function*(){const o={method:"POST",body:JSON.stringify(t)},n=yield e.fetch("/accounts/recover",o);return yield n.json()})),t.putAccountRecover=(e,t)=>n(void 0,void 0,void 0,(function*(){const o={method:"PUT",body:JSON.stringify(t)},n=yield e.fetch("/accounts/recover",o);return yield n.json()})),t.postAccountRegister=(e,t)=>n(void 0,void 0,void 0,(function*(){const o={method:"POST",body:JSON.stringify(t)},n=yield e.fetch("/accounts/register",o);return yield n.json()})),t.putAccountRegister=(e,t)=>n(void 0,void 0,void 0,(function*(){const o={method:"PUT",body:JSON.stringify(t)},n=yield e.fetch("/accounts/register",o);return yield n.json()})),t.getAccount=(e,t)=>n(void 0,void 0,void 0,(function*(){const o=`/accounts/${t}`,n=yield e.fetch(o,{method:"GET"});return yield n.json()})),t.postAuth=(e,t)=>n(void 0,void 0,void 0,(function*(){const o={method:"POST",body:JSON.stringify(t)},n=yield e.fetch("/auth",o);return yield n.json()})),t.getAuth=e=>n(void 0,void 0,void 0,(function*(){const t=yield e.fetch("/auth",{method:"GET"});return yield t.json()})),t.deleteAuth=e=>n(void 0,void 0,void 0,(function*(){const t=yield e.fetch("/auth",{method:"DELETE"});return yield t.json()})),t.getUser=(e,t)=>n(void 0,void 0,void 0,(function*(){const o=`/users/${t}`,n=yield e.fetch(o,{method:"GET"});return yield n.json()})),t.postUserAvatar=(e,t,o)=>n(void 0,void 0,void 0,(function*(){const n=`/users/${t}/avatar`,r={method:"POST",body:o},i=yield e.fetch(n,r);return yield i.json()})),t.default=e=>{const o=new r.Service(e,"/rest/api/v1",{accounts:{changemail:{post:e=>(0,t.postAccountChangeMail)(o,e),put:e=>(0,t.putAccountChangeMail)(o,e)},recover:{post:e=>(0,t.postAccountRecover)(o,e),put:e=>(0,t.putAccountRecover)(o,e)},register:{post:e=>(0,t.postAccountRegister)(o,e),put:e=>(0,t.putAccountRegister)(o,e)},$accountId:{get:e=>(0,t.getAccount)(o,e)}},auth:{post:e=>(0,t.postAuth)(o,e),get:()=>(0,t.getAuth)(o),delete:()=>(0,t.deleteAuth)(o)},users:{$userId:{get:e=>(0,t.getUser)(o,e),avatar:{post:(e,n)=>(0,t.postUserAvatar)(o,e,n)}}}});return o}},718:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=c(o(19)),u=i(o(276));t.default={Model:u,Service:s.default}}},t={};!function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}(432)})();
//# sourceMappingURL=min.bundle.js.map