(()=>{"use strict";var e={273:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="Fetch",o=function(){function e(e){this._useCsrf=!1,this._csrfToken="",this._beforeHooks=[],this._afterHooks=[],this._server=e.server,this._useCsrf=e.useCsrf||!1,this._csrfEndpoint=e.csrfEndpoint||"",this._csrfHeader=e.csrfHeader||"",this._useDebug=e.useDebug||!1,this.resetCSRFToken(),this.resetBeforeHooks(),this.resetAfterHooks()}return Object.defineProperty(e.prototype,"csrfToken",{get:function(){return this._csrfToken},set:function(e){this._csrfToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"csrfEndpoint",{get:function(){return this._csrfEndpoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"csrfHeader",{get:function(){return this._csrfHeader},set:function(e){this._csrfHeader=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beforeHooks",{get:function(){return this._beforeHooks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"afterHooks",{get:function(){return this._afterHooks},enumerable:!1,configurable:!0}),e.prototype.resetCSRFToken=function(){this._csrfToken=n},e.prototype.addBeforeHook=function(e){this.beforeHooks.push(e)},e.prototype.runBeforeHooks=function(e,t){this.beforeHooks.forEach((function(n){n(e,t)}))},e.prototype.resetBeforeHooks=function(){this._beforeHooks=[],this._useCsrf&&this._beforeHooks.push(this.addCsrfToken.bind(this)),this._useDebug&&this._beforeHooks.push(this.logRequest.bind(this))},e.prototype.addAfterHook=function(e){this.afterHooks.push(e)},e.prototype.runAfterHooks=function(e,t,n){this.afterHooks.forEach((function(o){o(e,t,n)}))},e.prototype.resetAfterHooks=function(){this._afterHooks=[],this._useCsrf&&this._afterHooks.push(this.readCsrfToken.bind(this)),this._useDebug&&this._afterHooks.push(this.logResponse.bind(this))},e.prototype.addCsrfToken=function(e,t){t.headers.set(this.csrfHeader,this.csrfToken)},e.prototype.readCsrfToken=function(e,t,o){if(this._csrfToken===n){var r=o.headers.get(this.csrfHeader);this._csrfToken=r}},e.prototype.logRequest=function(e,t){this._useDebug&&(console.log("REQUEST ".concat(t.method," ").concat(e)),console.log("  - Options:"),Object.keys(t).forEach((function(e){"headers"!==e&&console.log("    - ".concat(e,": ").concat(t[e]))})),t.headers&&(console.log("  - Headers:"),t.headers.forEach((function(e,t){console.log("    - ".concat(t,": ").concat(e))}))))},e.prototype.logResponse=function(e,t,n){this._useDebug&&(console.log("RESPONSE ".concat(t.method," ").concat(e)),n.headers&&(console.log("  - Headers:"),n.headers.forEach((function(e,t){console.log("    - ".concat(t,": ").concat(e))}))))},e}();t.default=o},984:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.Config=void 0;var r=o(n(273)),c=o(n(693));t.Config=r.default,t.Service=c.default,t.default={Config:t.Config,Service:t.Service}},693:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,c){function s(e){try{i(o.next(e))}catch(e){c(e)}}function u(e){try{i(o.throw(e))}catch(e){c(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}i((o=o.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,o,r,c,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){s.label=u[1];break}if(6===u[0]&&s.label<r[1]){s.label=r[1],r=u;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(u);break}r[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(e){u=[6,e],o=0}finally{n=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this._config=e,this._url=t,this._api=n}return Object.defineProperty(e.prototype,"api",{get:function(){return this._api},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),e.prototype.buildUrl=function(e){return"".concat(this._config.server).concat(this.url).concat(e)},e.prototype.fetch=function(e,t){return n(this,void 0,void 0,(function(){var n,r,c,s,u;return o(this,(function(o){switch(o.label){case 0:return n=t.body&&("POST"===t.method||"PUT"===t.method),r=new Headers,n&&r.set("content-type",t.contentType||"application/json; charset=UTF-8"),r.set("accept",t.accept||"application/json"),r.set("accept-encoding",t.acceptEncoding||"gzip, deflate, br"),r.set("connection",t.connection||"keep-alive"),c=this.buildUrl(e),s={method:t.method,headers:r},n&&(s.body=t.body),this._config.runBeforeHooks(c,s),[4,fetch(c,s)];case 1:return u=o.sent(),this._config.runAfterHooks(c,s,u),[2,u]}}))}))},e}();t.default=r},213:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},986:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,c){function s(e){try{i(o.next(e))}catch(e){c(e)}}function u(e){try{i(o.throw(e))}catch(e){c(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}i((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,c,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){s.label=u[1];break}if(6===u[0]&&s.label<r[1]){s.label=r[1],r=u;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(u);break}r[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(e){u=[6,e],o=0}finally{n=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.postUserAvatar=t.getUser=t.deleteAuth=t.getAuth=t.postAuth=t.getAccount=t.putAccountRegister=t.postAccountRegister=t.putAccountRecover=t.postAccountRecover=t.putAccountChangeMail=t.postAccountChangeMail=void 0;var c=n(984);t.postAccountChangeMail=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return n={method:"POST",body:JSON.stringify(t)},[4,e.fetch("/accounts/changemail",n)];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))}))},t.putAccountChangeMail=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return n={method:"PUT",body:JSON.stringify(t)},[4,e.fetch("/accounts/changemail",n)];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))}))},t.postAccountRecover=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return n={method:"POST",body:JSON.stringify(t)},[4,e.fetch("/accounts/recover",n)];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))}))},t.putAccountRecover=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return n={method:"PUT",body:JSON.stringify(t)},[4,e.fetch("/accounts/recover",n)];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))}))},t.postAccountRegister=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return n={method:"POST",body:JSON.stringify(t)},[4,e.fetch("/accounts/register",n)];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))}))},t.putAccountRegister=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return r(this,(function(o){switch(o.label){case 0:return n={method:"PUT",body:JSON.stringify(t)},[4,e.fetch("/accounts/register",n)];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))}))},t.getAccount=function(e,t){return o(void 0,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return n="/accounts/".concat(t),o={method:"GET"},[4,e.fetch(n,o)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},t.postAuth=function(e){return o(void 0,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t={method:"POST"},[4,e.fetch("/auth",t)];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))}))},t.getAuth=function(e){return o(void 0,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t={method:"GET"},[4,e.fetch("/auth",t)];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))}))},t.deleteAuth=function(e){return o(void 0,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t={method:"DELETE"},[4,e.fetch("/auth",t)];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))}))},t.getUser=function(e,t){return o(void 0,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return n="/users/".concat(t),o={method:"GET"},[4,e.fetch(n,o)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},t.postUserAvatar=function(e,t){return o(void 0,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return n="/users/".concat(t,"/avatar"),o={method:"POST"},[4,e.fetch(n,o)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},t.default=function(e){var n=new c.Service(e,"/rest/api/v1/auth",{accounts:{changemail:{post:function(e){return(0,t.postAccountChangeMail)(n,e)},put:function(e){return(0,t.putAccountChangeMail)(n,e)}},recover:{post:function(e){return(0,t.postAccountRecover)(n,e)},put:function(e){return(0,t.putAccountRecover)(n,e)}},register:{post:function(e){return(0,t.postAccountRegister)(n,e)},put:function(e){return(0,t.putAccountRegister)(n,e)}},$accountId:{get:function(e){return(0,t.getAccount)(n,e)}}},auth:{post:function(){return(0,t.postAuth)(n)},get:function(){return(0,t.getAuth)(n)},delete:function(){return(0,t.deleteAuth)(n)}},users:{$userId:{get:function(e){return(0,t.getUser)(n,e)},avatar:{post:function(e){return(0,t.postUserAvatar)(n,e)}}}}});return n}},867:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=n(986),r=n(213);t.default={Model:r,Service:o.default}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o].call(c.exports,c,c.exports,n),c.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.AuthModel=e.AuthService=void 0;var t=n(867);e.AuthService=t.default.Service,e.AuthModel=t.default.Model,e.default={Auth:t.default}})(),exports["alpha-auth-common"]=o})();
//# sourceMappingURL=spa-frontend-services-min.js.map